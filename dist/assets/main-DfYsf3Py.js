import{a as e,i as t,n,r,t as i}from"./updateCartProductTotal-BGrRIzxf.js";r();const a=(e,a,o)=>{let s=r(),c=document.querySelector(`#card${a}`);console.log(c);let l=c.querySelector(`.productQuantity`).innerText,u=c.querySelector(`.productPrice`).innerText;console.log(l,u),u=u.replace(`₹`,``);let d=s.find(e=>e.id===a);if(console.log(d),d&&l>1){l=Number(d.quantity)+Number(l),u=Number(u*l);let e={id:a,quantity:l,price:u};e=s.map(t=>t.id===a?e:t),console.log(e),localStorage.setItem(`cartProductLS`,JSON.stringify(e)),n(`add`,a)}if(d)return alert(`existing Product`),!1;u=Number(u*l),l=Number(l),s.push({id:a,quantity:l,price:u}),localStorage.setItem(`cartProductLS`,JSON.stringify(s)),t(s),i(),n(`add`,a)},o=(e,t,n)=>{let r=document.querySelector(`#card${t}`).querySelector(`.productQuantity`),i=parseInt(r.getAttribute(`data-quantity`))||1;return e.target.className===`cartIncrement`&&(i<n?i+=1:i===n&&(i=n)),e.target.className===`cartDecrement`&&i>1&&--i,r.innerText=i,r.setAttribute(`data-quantity`,i),i};var s=document.querySelector(`#productContainer`),c=document.querySelector(`#productTemplate`);(!s||!c)&&console.error(`productContainer or productTemplate not found in DOM. Ensure the template and container exist before the script runs.`),(e=>{if(!e)return!1;e.forEach(e=>{let{brand:t,category:n,description:r,id:i,image:l,name:u,price:d,stock:f}=e,p=document.importNode(c.content,!0);p.querySelector(`#cardValue`).setAttribute(`id`,`card${i}`),p.querySelector(`.category`).textContent=n,p.querySelector(`.productName`).textContent=u,p.querySelector(`.productImage`).src=l,p.querySelector(`.productImage`).alt=u,p.querySelector(`.productStock`).textContent=f,p.querySelector(`.productDescription`).textContent=r,p.querySelector(`.productPrice`).textContent=`₹${d}`,p.querySelector(`.productActualPrice`).textContent=`₹${d*4}`,p.querySelector(`.stockElement`).addEventListener(`click`,e=>{o(e,i,f)});let m=p.querySelector(`.add-to-cart-button`);m?m.addEventListener(`click`,e=>{a(e,i,f)}):console.warn(`Add-to-cart button not found for product id=${i}`),s.append(p)})})(e);