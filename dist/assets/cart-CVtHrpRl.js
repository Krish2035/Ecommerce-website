import{a as e,i as t,n,r,t as i}from"./updateCartProductTotal-BGrRIzxf.js";/* empty css              */const a=(e,t)=>{let n=r().find(t=>t.id===e),i=1;return n&&(i=n.quantity,t=n.price),{quantity:i,price:t}},o=e=>{let a=r();a=a.filter(t=>t.id!==e),localStorage.setItem(`cartProductLS`,JSON.stringify(a));let o=document.getElementById(`card${e}`);o&&(o.remove(),n(`delete`,e)),t(a),i()},s=(e,n,a,o)=>{let s=document.querySelector(`#card${n}`);if(!s)return;let c=s.querySelector(`.productQuantity`),l=s.querySelector(`.productPrice`),u=1,d=r(),f=d.find(e=>e.id===n);f&&(u=Number(f.quantity)||1);let p=e.target.closest(`.cartIncrement, .cartDecrement`);if(!p)return;console.log(`incrementDecrement clicked ->`,{id:n,btn:p.className,currentQuantity:u,stock:a,price:o}),p.classList.contains(`cartIncrement`)&&(u<a?u+=1:u=a),p.classList.contains(`cartDecrement`)&&u>1&&--u;let m=Number(o)*u,h=d.some(e=>e.id===n)?d.map(e=>e.id===n?{id:n,quantity:u,price:m}:e):[...d,{id:n,quantity:u,price:m}];localStorage.setItem(`cartProductLS`,JSON.stringify(h)),t(h),c&&(c.innerText=u),l&&(l.innerText=`â‚¹${m}`),i()};var c=r(),l=e.filter(e=>c.some(t=>t.id===e.id)),u=document.querySelector(`#productCartContainer`),d=document.querySelector(`#productCartTemplate`);(!u||!d)&&console.error(`productCartContainer or productCartTemplate not found in DOM.`),l.forEach(e=>{let{category:t,id:n,image:r,name:i,stock:c,price:l}=e,f=document.importNode(d.content,!0),p=a(n,l),m=f.querySelector(`#cardValue`);m&&m.setAttribute(`id`,`card${n}`),f.querySelector(`.category`).textContent=t,f.querySelector(`.productName`).textContent=i,f.querySelector(`.productImage`).src=r,f.querySelector(`.productQuantity`).textContent=p.quantity,f.querySelector(`.productPrice`).textContent=p.price,f.querySelector(`.stockElement`).addEventListener(`click`,e=>{s(e,n,c,l)}),f.querySelector(`.remove-to-cart-button`).addEventListener(`click`,()=>o(n)),u.appendChild(f)}),i();